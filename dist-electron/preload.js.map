{"version":3,"file":"preload.js","sources":["../electron/preload.js"],"sourcesContent":["/* eslint-disable */\r\n// Código de preload modificado para funcionar tanto en producción como en desarrollo\r\nconst { contextBridge, ipcRenderer } = require ? require(\"electron\") : window.electron;\r\n\r\n// Función para mostrar logs en la consola\r\nconst log = (msg, ...args) => {\r\n  console.log(`[Preload] ${msg}`, ...args);\r\n};\r\n\r\ntry {\r\n  log(\"Inicializando preload.js\");\r\n\r\n  // Intentar exponer la API a través de contextBridge\r\n  contextBridge.exposeInMainWorld(\"electronAPI\", {\r\n    // Productos\r\n    getAllProducts: () => {\r\n      log(\"Llamando a getAllProducts\");\r\n      return ipcRenderer.invoke(\"get-all-products\");\r\n    },\r\n    getProductById: (id) => {\r\n      log(\"Llamando a getProductById:\", id);\r\n      return ipcRenderer.invoke(\"get-product-by-id\", id);\r\n    },\r\n    getProductByBarcode: (barcode) => {\r\n      log(\"Llamando a getProductByBarcode:\", barcode);\r\n      return ipcRenderer.invoke(\"get-product-by-barcode\", barcode);\r\n    },\r\n    createProduct: (productData) => {\r\n      log(\"Llamando a createProduct\");\r\n      return ipcRenderer.invoke(\"create-product\", productData);\r\n    },\r\n    updateProduct: (id, productData) => {\r\n      log(\"Llamando a updateProduct - ID:\", id);\r\n      return ipcRenderer.invoke(\"update-product\", { id, productData });\r\n    },\r\n    deleteProduct: (id) => {\r\n      log(\"Llamando a deleteProduct:\", id);\r\n      return ipcRenderer.invoke(\"delete-product\", id);\r\n    },\r\n    searchProducts: (query) => {\r\n      log(\"Llamando a searchProducts:\", query);\r\n      return ipcRenderer.invoke(\"search-products\", query);\r\n    },\r\n\r\n    // Categorías\r\n    getAllCategories: () => {\r\n      log(\"Llamando a getAllCategories\");\r\n      return ipcRenderer.invoke(\"get-all-categories\");\r\n    },\r\n    getCategoryById: (id) => {\r\n      log(\"Llamando a getCategoryById:\", id);\r\n      return ipcRenderer.invoke(\"get-category-by-id\", id);\r\n    },\r\n    createCategory: (categoryData) => {\r\n      log(\"Llamando a createCategory\");\r\n      return ipcRenderer.invoke(\"create-category\", categoryData);\r\n    },\r\n    updateCategory: (id, categoryData) => {\r\n      log(\"Llamando a updateCategory - ID:\", id);\r\n      return ipcRenderer.invoke(\"update-category\", { id, categoryData });\r\n    },\r\n    deleteCategory: (id) => {\r\n      log(\"Llamando a deleteCategory:\", id);\r\n      return ipcRenderer.invoke(\"delete-category\", id);\r\n    },\r\n  });\r\n\r\n  log(\"preload.js inicializado correctamente\");\r\n} catch (error) {\r\n  console.error(\"[Preload] Error al inicializar:\", error);\r\n}\r\n"],"names":[],"mappings":";AAEA,MAAM,EAAE,eAAe,YAAW,IAAK,UAAU,QAAQ,UAAU,IAAI,OAAO;AAG9E,MAAM,MAAM,CAAC,QAAQ,SAAS;AAC5B,UAAQ,IAAI,aAAa,GAAG,IAAI,GAAG,IAAI;AACzC;AAEA,IAAI;AACF,MAAI,0BAA0B;AAG9B,gBAAc,kBAAkB,eAAe;AAAA;AAAA,IAE7C,gBAAgB,MAAM;AACpB,UAAI,2BAA2B;AAC/B,aAAO,YAAY,OAAO,kBAAkB;AAAA,IAC7C;AAAA,IACD,gBAAgB,CAAC,OAAO;AACtB,UAAI,8BAA8B,EAAE;AACpC,aAAO,YAAY,OAAO,qBAAqB,EAAE;AAAA,IAClD;AAAA,IACD,qBAAqB,CAAC,YAAY;AAChC,UAAI,mCAAmC,OAAO;AAC9C,aAAO,YAAY,OAAO,0BAA0B,OAAO;AAAA,IAC5D;AAAA,IACD,eAAe,CAAC,gBAAgB;AAC9B,UAAI,0BAA0B;AAC9B,aAAO,YAAY,OAAO,kBAAkB,WAAW;AAAA,IACxD;AAAA,IACD,eAAe,CAAC,IAAI,gBAAgB;AAClC,UAAI,kCAAkC,EAAE;AACxC,aAAO,YAAY,OAAO,kBAAkB,EAAE,IAAI,YAAW,CAAE;AAAA,IAChE;AAAA,IACD,eAAe,CAAC,OAAO;AACrB,UAAI,6BAA6B,EAAE;AACnC,aAAO,YAAY,OAAO,kBAAkB,EAAE;AAAA,IAC/C;AAAA,IACD,gBAAgB,CAAC,UAAU;AACzB,UAAI,8BAA8B,KAAK;AACvC,aAAO,YAAY,OAAO,mBAAmB,KAAK;AAAA,IACnD;AAAA;AAAA,IAGD,kBAAkB,MAAM;AACtB,UAAI,6BAA6B;AACjC,aAAO,YAAY,OAAO,oBAAoB;AAAA,IAC/C;AAAA,IACD,iBAAiB,CAAC,OAAO;AACvB,UAAI,+BAA+B,EAAE;AACrC,aAAO,YAAY,OAAO,sBAAsB,EAAE;AAAA,IACnD;AAAA,IACD,gBAAgB,CAAC,iBAAiB;AAChC,UAAI,2BAA2B;AAC/B,aAAO,YAAY,OAAO,mBAAmB,YAAY;AAAA,IAC1D;AAAA,IACD,gBAAgB,CAAC,IAAI,iBAAiB;AACpC,UAAI,mCAAmC,EAAE;AACzC,aAAO,YAAY,OAAO,mBAAmB,EAAE,IAAI,aAAY,CAAE;AAAA,IAClE;AAAA,IACD,gBAAgB,CAAC,OAAO;AACtB,UAAI,8BAA8B,EAAE;AACpC,aAAO,YAAY,OAAO,mBAAmB,EAAE;AAAA,IAChD;AAAA,EACL,CAAG;AAED,MAAI,uCAAuC;AAC7C,SAAS,OAAO;AACd,UAAQ,MAAM,mCAAmC,KAAK;AACxD;"}